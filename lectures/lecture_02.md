# Лекция 2

## 2. Введение в язык

### 1. Объявление и определение (declaration vs definition)

В первом приближении, можно сказать, что код на С++ -- это последовательность объявлений каких-то сущностей. Что это могут быть за сущности? Например:

```C++
type id; // переменная
type id = init; // переменная с инициализацией

// свои типы
struct S;
class S;
union U;

namespace N {}

// aliases
typedef shortcut long_name; 
```

***Замечание***: элиясы надо использовать осторожно!  `typedef vi std::vector<int>` мы **не используем** :) 

Полный список можно посмотреть [тут](https://en.cppreference.com/w/cpp/language/declarations#:~:text=Declarations%20are%20how%20names%20are,entity%20identified%20by%20the%20name.)

Более формально, объявление -- это представление программе сущности, в результате которого компилятор узнает необходимую ему информацию (типы, размеры и т.д.). Определение -- это такой вид объявления, при котором дополнительно в памяти резервируется необходимое место под объект (объявление, которого достаточно, чтобы использовать объект в программе).

Разница на примере функций:

```C++
int f();       // объявляется, но не определяется - ещё
int f() { }    // определяет функцию
```

**! ONE DEFINITION RULE:** каждая сущность должна быть определена не более одного раза. Объявлять при этом можно любое количество раз. 

***Замечание:*** объявление без определения -- UB

### 2. Область видимости имен

Каждое имя, которое появляется в программе на  C++, видно только в некоторой, возможно, прерывистой части исходного кода, называемой его областью видимости.

Самый высокий уровень -- *глобальный*, в котором можно выделять меньшие *локальные* уровни.

Каждый блок кода, выделенный в фигурных скобках создает свою область видимости:

```C++
#include <iostream>

// global scope

int x = 1;

namespace N {
    // именованная область видимости
    // Доступ к объектам: N::
    int x = 2; // N::x;
}

int main() {
    int x = 3;
    std::cout << x; // 3
    std::cout << N::x; // 2
    std::cout << ::x; // 1
    {
        // новый локальный scope без имени
        int x = 4;
        std::cout << x; // 4
    }
}
```

Неймспейсы можно открывать в глобальном скоупе или же внутри других неймспейсов

**unqualified-id** -- просто имя объекта

**qualified-id** -- обращение к объекту по полному имени, то есть с префиксом неймспейсов
